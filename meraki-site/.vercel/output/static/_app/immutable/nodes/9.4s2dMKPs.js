import{s as xe,n as Qe,r as $e,j as et}from"../chunks/CB5cRc80.js";import{S as tt,i as st,e as f,C as G,s as Te,f as ce,g as s,z as te,q as t,r as lt,l as v,h as o,j as _,u as O,k as fe,p as m,n as i,o as pe}from"../chunks/DdXpAeTr.js";import{s as Le}from"../chunks/CxqqRnSu.js";function We(l){let n,e,a=l[5].name+"",d;return{c(){n=i("span"),e=pe("✓ "),d=pe(a),this.h()},l(h){n=o(h,"SPAN",{class:!0});var c=_(n);e=fe(c,"✓ "),d=fe(c,a),c.forEach(f),this.h()},h(){t(n,"class","file-selected svelte-yd0kq8")},m(h,c){ce(h,n,c),s(n,e),s(n,d)},p(h,c){c&32&&a!==(a=h[5].name+"")&&Te(d,a)},d(h){h&&f(n)}}}function Ye(l){let n,e;return{c(){n=i("div"),e=pe(l[9]),this.h()},l(a){n=o(a,"DIV",{class:!0});var d=_(n);e=fe(d,l[9]),d.forEach(f),this.h()},h(){t(n,"class","message error-message svelte-yd0kq8")},m(a,d){ce(a,n,d),s(n,e)},p(a,d){d&512&&Te(e,a[9])},d(a){a&&f(n)}}}function Ze(l){let n,e;return{c(){n=i("div"),e=pe(l[8]),this.h()},l(a){n=o(a,"DIV",{class:!0});var d=_(n);e=fe(d,l[8]),d.forEach(f),this.h()},h(){t(n,"class","message success-message svelte-yd0kq8")},m(a,d){ce(a,n,d),s(n,e)},p(a,d){d&256&&Te(e,a[8])},d(a){a&&f(n)}}}function at(l){let n,e,a,d='<a href="/" class="svelte-yd0kq8">← Torna alla Home</a>',h,c,I,P="Lavora con Noi",J,L,le="Entra a far parte del team Meraki. Compila il form e carica il tuo CV.",C,u,j,z,F,ve="Nome *",ne,E,ue,H,S,w="Cognome *",V,g,X,K,N,R,ae="Email *",Pe,T,Ve,W,Y,Se="Telefono *",Ne,A,Ae,Z,x,Re="Messaggio *",Me,D,we,B,$,Ge="Carica CV (PDF o Immagine - max 5MB) *",Be,M,Ue,je,re,ee,U,ze,se,Oe='Autorizzo al trattamento dei miei dati personali secondo la <a href="/privacy-policy" target="_blank" class="svelte-yd0kq8">Privacy Policy</a> *',Fe,me,he,Q,de=l[7]?"Invio in corso...":"Invia Candidatura",_e,He,Je,b=l[5]&&We(l),k=l[9]&&Ye(l),q=l[8]&&Ze(l);return{c(){n=m(),e=i("div"),a=i("div"),a.innerHTML=d,h=m(),c=i("div"),I=i("h1"),I.textContent=P,J=m(),L=i("p"),L.textContent=le,C=m(),u=i("form"),j=i("div"),z=i("div"),F=i("label"),F.textContent=ve,ne=m(),E=i("input"),ue=m(),H=i("div"),S=i("label"),S.textContent=w,V=m(),g=i("input"),X=m(),K=i("div"),N=i("div"),R=i("label"),R.textContent=ae,Pe=m(),T=i("input"),Ve=m(),W=i("div"),Y=i("label"),Y.textContent=Se,Ne=m(),A=i("input"),Ae=m(),Z=i("div"),x=i("label"),x.textContent=Re,Me=m(),D=i("textarea"),we=m(),B=i("div"),$=i("label"),$.textContent=Ge,Be=m(),M=i("input"),Ue=m(),b&&b.c(),je=m(),re=i("div"),ee=i("label"),U=i("input"),ze=m(),se=i("span"),se.innerHTML=Oe,Fe=m(),k&&k.c(),me=m(),q&&q.c(),he=m(),Q=i("button"),_e=pe(de),this.h()},l(r){lt("svelte-ex1syd",document.head).forEach(f),n=v(r),e=o(r,"DIV",{class:!0});var ge=_(e);a=o(ge,"DIV",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-44zqgl"&&(a.innerHTML=d),h=v(ge),c=o(ge,"DIV",{class:!0});var oe=_(c);I=o(oe,"H1",{class:!0,"data-svelte-h":!0}),O(I)!=="svelte-xdl8tj"&&(I.textContent=P),J=v(oe),L=o(oe,"P",{class:!0,"data-svelte-h":!0}),O(L)!=="svelte-1v1dsge"&&(L.textContent=le),C=v(oe),u=o(oe,"FORM",{class:!0});var y=_(u);j=o(y,"DIV",{class:!0});var be=_(j);z=o(be,"DIV",{class:!0});var ke=_(z);F=o(ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(F)!=="svelte-1hqz2pg"&&(F.textContent=ve),ne=v(ke),E=o(ke,"INPUT",{type:!0,id:!0,class:!0}),ke.forEach(f),ue=v(be),H=o(be,"DIV",{class:!0});var qe=_(H);S=o(qe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(S)!=="svelte-1krtojs"&&(S.textContent=w),V=v(qe),g=o(qe,"INPUT",{type:!0,id:!0,class:!0}),qe.forEach(f),be.forEach(f),X=v(y),K=o(y,"DIV",{class:!0});var ye=_(K);N=o(ye,"DIV",{class:!0});var Ce=_(N);R=o(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(R)!=="svelte-1lhf424"&&(R.textContent=ae),Pe=v(Ce),T=o(Ce,"INPUT",{type:!0,id:!0,class:!0}),Ce.forEach(f),Ve=v(ye),W=o(ye,"DIV",{class:!0});var Ee=_(W);Y=o(Ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(Y)!=="svelte-9ia14s"&&(Y.textContent=Se),Ne=v(Ee),A=o(Ee,"INPUT",{type:!0,id:!0,class:!0}),Ee.forEach(f),ye.forEach(f),Ae=v(y),Z=o(y,"DIV",{class:!0});var Ie=_(Z);x=o(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(x)!=="svelte-chdfn6"&&(x.textContent=Re),Me=v(Ie),D=o(Ie,"TEXTAREA",{id:!0,rows:!0,placeholder:!0,class:!0}),_(D).forEach(f),Ie.forEach(f),we=v(y),B=o(y,"DIV",{class:!0});var ie=_(B);$=o(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O($)!=="svelte-11eisdj"&&($.textContent=Ge),Be=v(ie),M=o(ie,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),Ue=v(ie),b&&b.l(ie),ie.forEach(f),je=v(y),re=o(y,"DIV",{class:!0});var Xe=_(re);ee=o(Xe,"LABEL",{class:!0});var De=_(ee);U=o(De,"INPUT",{type:!0,class:!0}),ze=v(De),se=o(De,"SPAN",{class:!0,"data-svelte-h":!0}),O(se)!=="svelte-pmnuos"&&(se.innerHTML=Oe),De.forEach(f),Xe.forEach(f),Fe=v(y),k&&k.l(y),me=v(y),q&&q.l(y),he=v(y),Q=o(y,"BUTTON",{type:!0,class:!0});var Ke=_(Q);_e=fe(Ke,de),Ke.forEach(f),y.forEach(f),oe.forEach(f),ge.forEach(f),this.h()},h(){document.title="Lavora con Noi - Meraki",t(a,"class","back-link svelte-yd0kq8"),t(I,"class","svelte-yd0kq8"),t(L,"class","intro svelte-yd0kq8"),t(F,"for","nome"),t(F,"class","svelte-yd0kq8"),t(E,"type","text"),t(E,"id","nome"),E.required=!0,E.disabled=l[7],t(E,"class","svelte-yd0kq8"),t(z,"class","form-group svelte-yd0kq8"),t(S,"for","cognome"),t(S,"class","svelte-yd0kq8"),t(g,"type","text"),t(g,"id","cognome"),g.required=!0,g.disabled=l[7],t(g,"class","svelte-yd0kq8"),t(H,"class","form-group svelte-yd0kq8"),t(j,"class","form-row svelte-yd0kq8"),t(R,"for","email"),t(R,"class","svelte-yd0kq8"),t(T,"type","email"),t(T,"id","email"),T.required=!0,T.disabled=l[7],t(T,"class","svelte-yd0kq8"),t(N,"class","form-group svelte-yd0kq8"),t(Y,"for","telefono"),t(Y,"class","svelte-yd0kq8"),t(A,"type","tel"),t(A,"id","telefono"),A.required=!0,A.disabled=l[7],t(A,"class","svelte-yd0kq8"),t(W,"class","form-group svelte-yd0kq8"),t(K,"class","form-row svelte-yd0kq8"),t(x,"for","messaggio"),t(x,"class","svelte-yd0kq8"),t(D,"id","messaggio"),t(D,"rows","5"),D.required=!0,D.disabled=l[7],t(D,"placeholder","Parlaci di te e perché vorresti lavorare con noi..."),t(D,"class","svelte-yd0kq8"),t(Z,"class","form-group svelte-yd0kq8"),t($,"for","cv"),t($,"class","svelte-yd0kq8"),t(M,"type","file"),t(M,"id","cv"),t(M,"accept",".pdf,.jpg,.jpeg,.png"),M.required=!0,M.disabled=l[7],t(M,"class","svelte-yd0kq8"),t(B,"class","form-group svelte-yd0kq8"),t(U,"type","checkbox"),U.required=!0,U.disabled=l[7],t(U,"class","svelte-yd0kq8"),t(se,"class","svelte-yd0kq8"),t(ee,"class","checkbox-label svelte-yd0kq8"),t(re,"class","form-group checkbox-group svelte-yd0kq8"),t(Q,"type","submit"),t(Q,"class","submit-btn svelte-yd0kq8"),Q.disabled=l[7],t(u,"class","svelte-yd0kq8"),t(c,"class","content-box svelte-yd0kq8"),t(e,"class","lavora-container svelte-yd0kq8")},m(r,p){ce(r,n,p),ce(r,e,p),s(e,a),s(e,h),s(e,c),s(c,I),s(c,J),s(c,L),s(c,C),s(c,u),s(u,j),s(j,z),s(z,F),s(z,ne),s(z,E),G(E,l[0]),s(j,ue),s(j,H),s(H,S),s(H,V),s(H,g),G(g,l[1]),s(u,X),s(u,K),s(K,N),s(N,R),s(N,Pe),s(N,T),G(T,l[2]),s(K,Ve),s(K,W),s(W,Y),s(W,Ne),s(W,A),G(A,l[3]),s(u,Ae),s(u,Z),s(Z,x),s(Z,Me),s(Z,D),G(D,l[4]),s(u,we),s(u,B),s(B,$),s(B,Be),s(B,M),l[18](M),s(B,Ue),b&&b.m(B,null),s(u,je),s(u,re),s(re,ee),s(ee,U),U.checked=l[6],s(ee,ze),s(ee,se),s(u,Fe),k&&k.m(u,null),s(u,me),q&&q.m(u,null),s(u,he),s(u,Q),s(Q,_e),He||(Je=[te(E,"input",l[13]),te(g,"input",l[14]),te(T,"input",l[15]),te(A,"input",l[16]),te(D,"input",l[17]),te(M,"change",l[11]),te(U,"change",l[19]),te(u,"submit",l[12])],He=!0)},p(r,[p]){p&128&&(E.disabled=r[7]),p&1&&E.value!==r[0]&&G(E,r[0]),p&128&&(g.disabled=r[7]),p&2&&g.value!==r[1]&&G(g,r[1]),p&128&&(T.disabled=r[7]),p&4&&T.value!==r[2]&&G(T,r[2]),p&128&&(A.disabled=r[7]),p&8&&G(A,r[3]),p&128&&(D.disabled=r[7]),p&16&&G(D,r[4]),p&128&&(M.disabled=r[7]),r[5]?b?b.p(r,p):(b=We(r),b.c(),b.m(B,null)):b&&(b.d(1),b=null),p&128&&(U.disabled=r[7]),p&64&&(U.checked=r[6]),r[9]?k?k.p(r,p):(k=Ye(r),k.c(),k.m(u,me)):k&&(k.d(1),k=null),r[8]?q?q.p(r,p):(q=Ze(r),q.c(),q.m(u,he)):q&&(q.d(1),q=null),p&128&&de!==(de=r[7]?"Invio in corso...":"Invia Candidatura")&&Te(_e,de),p&128&&(Q.disabled=r[7])},i:Qe,o:Qe,d(r){r&&(f(n),f(e)),l[18](null),b&&b.d(),k&&k.d(),q&&q.d(),He=!1,$e(Je)}}}function rt(l,n,e){let a="",d="",h="",c="",I="",P=null,J=!1,L=!1,le="",C="",u;function j(w){const V=w.target.files[0];if(!V){e(5,P=null);return}const g=5*1024*1024;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(V.type)){e(9,C="Formato non valido. Accettati: PDF, JPG, PNG"),e(5,P=null),w.target.value="";return}if(V.size>g){e(9,C="File troppo grande. Max 5MB"),e(5,P=null),w.target.value="";return}e(5,P=V),e(9,C="")}async function z(w){if(w.preventDefault(),e(9,C=""),e(8,le=""),!a.trim()||!d.trim()||!h.trim()||!c.trim()||!I.trim()){e(9,C="Compila tutti i campi obbligatori");return}if(!P){e(9,C="Carica il tuo CV");return}if(!J){e(9,C="Devi autorizzare il trattamento dei dati");return}e(7,L=!0);try{const V=Date.now(),g=P.name.split(".").pop(),X=`${V}_${d}_${a}.${g}`,{data:K,error:N}=await Le.storage.from("candidature").upload(X,P);if(N){console.error("Upload error:",N),e(9,C="Errore upload CV: "+N.message),e(7,L=!1);return}const{data:{publicUrl:R}}=Le.storage.from("candidature").getPublicUrl(X),{error:ae}=await Le.from("candidature").insert({nome:a.trim(),cognome:d.trim(),email:h.trim(),telefono:c.trim(),messaggio:I.trim(),cv_url:R,cv_filename:X,consenso_privacy:!0});if(ae){console.error("Database error:",ae),await Le.storage.from("candidature").remove([X]),e(9,C="Errore salvataggio: "+ae.message),e(7,L=!1);return}e(8,le="✓ Candidatura inviata con successo! Ti contatteremo presto."),e(0,a=""),e(1,d=""),e(2,h=""),e(3,c=""),e(4,I=""),e(5,P=null),e(6,J=!1),u&&e(10,u.value="",u)}catch(V){console.error("Errore generico:",V),e(9,C="Errore imprevisto. Riprova.")}finally{e(7,L=!1)}}function F(){a=this.value,e(0,a)}function ve(){d=this.value,e(1,d)}function ne(){h=this.value,e(2,h)}function E(){c=this.value,e(3,c)}function ue(){I=this.value,e(4,I)}function H(w){et[w?"unshift":"push"](()=>{u=w,e(10,u)})}function S(){J=this.checked,e(6,J)}return[a,d,h,c,I,P,J,L,le,C,u,j,z,F,ve,ne,E,ue,H,S]}class ut extends tt{constructor(n){super(),st(this,n,rt,at,xe,{})}}export{ut as component};
