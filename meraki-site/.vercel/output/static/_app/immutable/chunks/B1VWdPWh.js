import{w as n}from"./Da5tC44D.js";import{s as u}from"./CxqqRnSu.js";const r=n(null),a=n(!1),l=n(!0);async function f(){l.set(!0);try{const{data:{session:t}}=await u.auth.getSession();t!=null&&t.user?(r.set(t.user),a.set(!0)):(r.set(null),a.set(!1))}catch(t){console.error("Error initializing auth:",t),r.set(null),a.set(!1)}finally{l.set(!1)}u.auth.onAuthStateChange((t,e)=>{e!=null&&e.user?(r.set(e.user),a.set(!0)):(r.set(null),a.set(!1))})}async function h(t,e){try{const{data:s,error:o}=await u.auth.signInWithPassword({email:t,password:e});if(o)throw o;return r.set(s.user),a.set(!0),{success:!0}}catch(s){return console.error("Login error:",s),{success:!1,error:s.message}}}export{l as a,a as b,f as i,h as l};
